<html>
    <head>
        <script>
            function testingPromis()
            {
                var url = "https://accounts.zoho.com/oauth/v2/auth#123";
                let myPromis = new Promise((resolve, reject) => {

                let authorizationWindow = window.open(url, '_blank');
                console.log(authorizationWindow);
                    c1 = setInterval(() => {
                        try{
                            let hash_data = authorizationWindow.location.hash;
                            if(hash_data){
                                resolve(hash_data);
                                authorizationWindow.close();
                            }
                        }
                        catch (e) {
                            console.log('hash not yet received' + e);
                        }
                    },1000);
                    // let a  = 1
                    // if(a == 2)
                    //     resolve("success")
                    // else
                        reject("failed")
                    
                })

                myPromis.then((messge) => {
                            generatedOauthToken = getAccessToken(hash);
                            alert(generatedOauthToken);
                    
                }).catch((messge) => {
                    console.log("Inside the failed function")
                });
            }

        </script>
    </head>
    <body>

        <input type="submit" onclick="testingPromis()">
    </body>
</html>